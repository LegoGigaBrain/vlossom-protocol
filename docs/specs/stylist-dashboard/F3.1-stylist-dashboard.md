# F3.1: Stylist Dashboard Overview

**Status**: Pending
**Priority**: High (Week 5)

## Purpose

Central hub for stylists to view business metrics at a glance. Shows pending requests, upcoming bookings, and earnings summary.

## User Story

As a stylist, I want to see my business overview when I log in, so I can quickly understand what needs my attention.

## Components

### Page
- `app/dashboard/page.tsx` — Main dashboard page with grid layout

### Components
- `components/dashboard/stats-cards.tsx` — Four metric cards
- `components/dashboard/upcoming-bookings.tsx` — Next 7 days booking list
- `components/dashboard/pending-requests-preview.tsx` — Top 3 pending requests with "View All" link

## UI Layout

```
┌─────────────────────────────────────────────────────────────┐
│  Stylist Dashboard                                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌────────┐│
│  │ Pending     │ │ Upcoming    │ │ This Month  │ │ Total  ││
│  │ Requests    │ │ Bookings    │ │ Earnings    │ │Earnings││
│  │     3       │ │     7       │ │   R12,450   │ │R85,200 ││
│  └─────────────┘ └─────────────┘ └─────────────┘ └────────┘│
│                                                             │
│  ┌──────────────────────────┐ ┌───────────────────────────┐│
│  │ Pending Requests         │ │ Upcoming Bookings         ││
│  ├──────────────────────────┤ ├───────────────────────────┤│
│  │ Jane D. - Braids         │ │ Today, 14:00              ││
│  │ Tomorrow, 10:00          │ │ Sarah M. - Box Braids     ││
│  │ [Approve] [Decline]      │ │ 3h duration               ││
│  │                          │ │                           ││
│  │ Mike S. - Haircut        │ │ Tomorrow, 09:00           ││
│  │ Dec 16, 14:00            │ │ Lisa K. - Silk Press      ││
│  │ [Approve] [Decline]      │ │ 2h duration               ││
│  │                          │ │                           ││
│  │ [View All Requests →]    │ │ [View All →]              ││
│  └──────────────────────────┘ └───────────────────────────┘│
└─────────────────────────────────────────────────────────────┘
```

## Data Requirements

### Stats Cards
| Metric | Source | Query |
|--------|--------|-------|
| Pending Requests | Bookings | `WHERE stylistId = ? AND status = 'PENDING_STYLIST_APPROVAL'` |
| Upcoming Bookings | Bookings | `WHERE stylistId = ? AND status IN ('CONFIRMED', 'IN_PROGRESS') AND scheduledAt > now()` |
| This Month Earnings | Bookings | `SUM(stylistPayoutCents) WHERE status = 'SETTLED' AND completedAt >= startOfMonth` |
| Total Earnings | Bookings | `SUM(stylistPayoutCents) WHERE status = 'SETTLED'` |

### Upcoming Bookings List
- Next 7 days of confirmed bookings
- Fields: customer name, service name, date/time, duration
- Sorted by scheduledAt ASC

### Pending Requests Preview
- Top 3 pending requests
- Fields: customer name, service, requested date/time
- Quick approve/decline actions

## API Endpoint

```
GET /api/stylists/dashboard
```

**Response:**
```typescript
interface DashboardData {
  stats: {
    pendingRequests: number;
    upcomingBookings: number;
    thisMonthEarnings: number;  // cents
    totalEarnings: number;       // cents
  };
  upcomingBookings: Array<{
    id: string;
    customerName: string;
    serviceName: string;
    scheduledAt: string;
    durationMinutes: number;
    status: BookingStatus;
  }>;
  pendingRequests: Array<{
    id: string;
    customerName: string;
    serviceName: string;
    requestedAt: string;
    scheduledAt: string;
  }>;
}
```

## Acceptance Criteria

- [ ] Dashboard loads within 2 seconds
- [ ] Stats cards show correct counts/amounts
- [ ] Earnings display in ZAR format (R12,450.00)
- [ ] Pending requests show approve/decline buttons
- [ ] Upcoming bookings sorted by date
- [ ] "View All" links navigate to respective pages
- [ ] Empty states shown when no data
- [ ] Loading skeletons during fetch
