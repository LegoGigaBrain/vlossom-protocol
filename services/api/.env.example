# Vlossom API Environment Variables

# Database
DATABASE_URL="postgresql://user:password@localhost:5432/vlossom?schema=public"

# Server
PORT=3002
NODE_ENV=development
LOG_LEVEL=info

# Blockchain Configuration
CHAIN_ID=8453
RPC_URL="https://mainnet.base.org"
# V1.9.0 M-3: Fallback RPC URL for resilience (optional but recommended)
RPC_URL_FALLBACK="https://base.llamarpc.com"
BUNDLER_URL="https://api.pimlico.io/v2/base/rpc?apikey=YOUR_PIMLICO_API_KEY"

# Smart Contract Addresses (populated after deployment)
ENTRY_POINT_ADDRESS="0x0000000071727De22E5E9d8BAf0edAc6f37da032"
FACTORY_ADDRESS=""
PAYMASTER_ADDRESS=""
ESCROW_ADDRESS=""
USDC_ADDRESS="0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913"
# V1.9.0 M-1: Treasury address for platform fees (REQUIRED in production)
TREASURY_ADDRESS=""

# AA Wallet Configuration
RELAYER_PRIVATE_KEY=""

# Authentication
# V1.9.0 H-1: JWT_SECRET must be at least 32 characters and not a placeholder
JWT_SECRET="change-this-to-a-secure-random-string-in-production-min-32-chars"
INTERNAL_AUTH_SECRET="change-this-to-a-different-secure-random-string"
# V1.9.0 L-1: Bcrypt rounds for password hashing (default: 12)
BCRYPT_ROUNDS=12

# MoonPay Configuration (Fiat On/Off-ramp)
MOONPAY_MODE=mock                     # "mock" or "production"
MOONPAY_API_KEY=                      # Add when you have MoonPay business account
MOONPAY_SECRET_KEY=                   # Add when you have MoonPay business account
MOONPAY_ENV=sandbox                   # "sandbox" or "production"
MOONPAY_WEBHOOK_SECRET=               # For signature verification

# Google Maps API (F4.2: Travel Time Calculation)
GOOGLE_MAPS_API_KEY=                  # Required for travel time calculation
DEFAULT_TRAVEL_BUFFER_MIN=30          # Buffer time between appointments (minutes)
TRAVEL_CACHE_TTL_MIN=60               # Cache TTL for travel time results

# SendGrid Email (F4.3: Notifications)
SENDGRID_API_KEY=                     # Required for email notifications
SENDGRID_FROM_EMAIL=notifications@vlossom.com
SENDGRID_FROM_NAME=Vlossom

# Clickatell SMS (F4.3: Notifications - SA market)
CLICKATELL_API_KEY=                   # Optional - for SMS notifications

# Cloudinary (F4.5: Image Upload)
CLOUDINARY_CLOUD_NAME=vlossom
CLOUDINARY_API_KEY=                   # Required for portfolio uploads
CLOUDINARY_API_SECRET=

# For Local Development (Hardhat)
# CHAIN_ID=31337
# RPC_URL="http://127.0.0.1:8545"
# BUNDLER_URL=""
# USDC_ADDRESS="" # Deployed MockUSDC address

# For Base Sepolia Testnet (DEFAULT - Contracts deployed Dec 13, 2025)
# CHAIN_ID=84532
# RPC_URL="https://sepolia.base.org"
# BUNDLER_URL="https://api.pimlico.io/v2/base-sepolia/rpc?apikey=YOUR_PIMLICO_API_KEY"
# USDC_ADDRESS="0x036CbD53842c5426634e7929541eC2318f3dCF7e"
# FACTORY_ADDRESS="0x1118fA7895A0b9Ae2Ed51F1BC355CFd2c606882d"
# PAYMASTER_ADDRESS="0x66Af4b4c3935C185F832cf2B38A88dABA22cCD8D"
# ESCROW_ADDRESS="0x925E12051A6badb09D5a8a67aF9dD40ec5725E04"

# For Arbitrum Sepolia Testnet (Contracts not yet deployed)
# CHAIN_ID=421614
# RPC_URL="https://arb-sepolia.g.alchemy.com/v2/YOUR_API_KEY"
# BUNDLER_URL="https://api.pimlico.io/v2/arbitrum-sepolia/rpc?apikey=YOUR_PIMLICO_API_KEY"
# USDC_ADDRESS="0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"
# FACTORY_ADDRESS=""
# PAYMASTER_ADDRESS=""
# ESCROW_ADDRESS=""

# For Arbitrum Mainnet
# CHAIN_ID=42161
# RPC_URL="https://arb-mainnet.g.alchemy.com/v2/YOUR_API_KEY"
# BUNDLER_URL="https://api.pimlico.io/v2/arbitrum/rpc?apikey=YOUR_PIMLICO_API_KEY"
# USDC_ADDRESS="0xaf88d065e77c8cC2239327C5EDb3A432268e5831"
